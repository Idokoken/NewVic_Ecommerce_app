{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Idokoken/Desktop/ict_exercise/projects/reactjs/newvic_ecommerce_app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Idokoken/Desktop/ict_exercise/projects/reactjs/newvic_ecommerce_app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Idokoken/Desktop/ict_exercise/projects/reactjs/newvic_ecommerce_app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"C:/Users/Idokoken/Desktop/ict_exercise/projects/reactjs/newvic_ecommerce_app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useState,useEffect}from\"react\";import Skeleton from\"react-loading-skeleton\";import\"react-loading-skeleton/dist/skeleton.css\";import{NavLink}from\"react-router-dom\";import styled from\"styled-components\";//css section\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  .header {\\n    display: flex;\\n    justify-content: center;\\n    flex-wrap: wrap;\\n  }\\n  img {\\n    object-fit: contain;\\n  }\\n\"])));function Products(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(data),_useState4=_slicedToArray(_useState3,2),filter=_useState4[0],setFilter=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];//let componentMounted = true;\nuseEffect(function(){var getProduct=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var resp,result1,result2;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);_context.next=4;return fetch(\"https://fakestoreapi.com/products\");case 4:resp=_context.sent;_context.next=7;return resp.clone().json();case 7:result1=_context.sent;_context.next=10;return resp.json();case 10:result2=_context.sent;setData(result1);setFilter(result2);console.log(result1);setLoading(false);_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 20:case\"end\":return _context.stop();}}},_callee,null,[[0,17]]);}));return function getProduct(){return _ref.apply(this,arguments);};}();getProduct();//return () => (componentMounted = false);\n},[]);var Loading=function Loading(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(Skeleton,{height:350})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(Skeleton,{height:350})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(Skeleton,{height:350})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(Skeleton,{height:350})})]});};var filterProduct=function filterProduct(product){var updatedProduct=data.filter(function(a,i){return a.category===product;});setFilter(updatedProduct);};var ShowProducts=function ShowProducts(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header button d-flex justify-content-center mb-5 pb-5\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark me-2 mb-1\",onClick:function onClick(){return setFilter(data);},children:\"All\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark me-2 mb-1\",onClick:function onClick(){return filterProduct(\"men's clothing\");},children:\"Men's Clothing\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark me-2 mb-1\",onClick:function onClick(){return filterProduct(\"women's clothing\");},children:\"Women's Clothing\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark me-2 mb-1\",onClick:function onClick(){return filterProduct(\"jewelery\");},children:\"Jewelery\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark me-2 mb-1\",onClick:function onClick(){return filterProduct(\"electronics\");},children:\"Electronics\"})]}),filter.map(function(product,i){return/*#__PURE__*/_jsx(\"div\",{className:\"main col-12 col-md-3 col-l-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"item card h-100 text-center p-4\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"card-img-top\",height:\"250px\",src:product.image,alt:product.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title mb-0\",children:product.title.substring(0,12)}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text lead fw-bold \",children:[\"$\",product.price]}),/*#__PURE__*/_jsx(NavLink,{to:\"/products/\".concat(product.id),className:\"btn btn-outline-dark \",children:\"Buy now\"})]})]},product.id)},i);})]});};return/*#__PURE__*/_jsx(Wrapper,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5 py-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 mb-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"display-6 fw-bolder text-center\",children:\"Latest Product\"}),/*#__PURE__*/_jsx(\"hr\",{})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsx(ShowProducts,{})})]})});}export default Products;","map":{"version":3,"names":["React","useState","useEffect","Skeleton","NavLink","styled","Wrapper","div","Products","data","setData","filter","setFilter","loading","setLoading","getProduct","fetch","resp","clone","json","result1","result2","console","log","Loading","filterProduct","product","updatedProduct","a","i","category","ShowProducts","map","image","title","substring","price","id"],"sources":["C:/Users/Idokoken/Desktop/ict_exercise/projects/reactjs/newvic_ecommerce_app/src/components/Products.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport \"react-loading-skeleton/dist/skeleton.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\n//css section\r\nconst Wrapper = styled.div`\r\n  .header {\r\n    display: flex;\r\n    justify-content: center;\r\n    flex-wrap: wrap;\r\n  }\r\n  img {\r\n    object-fit: contain;\r\n  }\r\n`;\r\n\r\nfunction Products() {\r\n  const [data, setData] = useState([]);\r\n  const [filter, setFilter] = useState(data);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  //let componentMounted = true;\r\n\r\n  useEffect(() => {\r\n    const getProduct = async () => {\r\n      try {\r\n        setLoading(true);\r\n        let resp = await fetch(\"https://fakestoreapi.com/products\");\r\n        let result1 = await resp.clone().json();\r\n        let result2 = await resp.json();\r\n\r\n        setData(result1);\r\n        setFilter(result2);\r\n        console.log(result1);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    getProduct();\r\n    //return () => (componentMounted = false);\r\n  }, []);\r\n\r\n  const Loading = () => {\r\n    return (\r\n      <>\r\n        <div className=\"col-md-3\">\r\n          <Skeleton height={350} />\r\n        </div>\r\n        <div className=\"col-md-3\">\r\n          <Skeleton height={350} />\r\n        </div>\r\n        <div className=\"col-md-3\">\r\n          <Skeleton height={350} />\r\n        </div>\r\n        <div className=\"col-md-3\">\r\n          <Skeleton height={350} />\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const filterProduct = (product) => {\r\n    const updatedProduct = data.filter((a, i) => {\r\n      return a.category === product;\r\n    });\r\n    setFilter(updatedProduct);\r\n  };\r\n\r\n  const ShowProducts = () => (\r\n    <>\r\n      <div className=\"header button d-flex justify-content-center mb-5 pb-5\">\r\n        <button\r\n          className=\"btn btn-outline-dark me-2 mb-1\"\r\n          onClick={() => setFilter(data)}\r\n        >\r\n          All\r\n        </button>\r\n        <button\r\n          className=\"btn btn-outline-dark me-2 mb-1\"\r\n          onClick={() => filterProduct(\"men's clothing\")}\r\n        >\r\n          Men's Clothing\r\n        </button>\r\n        <button\r\n          className=\"btn btn-outline-dark me-2 mb-1\"\r\n          onClick={() => filterProduct(\"women's clothing\")}\r\n        >\r\n          Women's Clothing\r\n        </button>\r\n        <button\r\n          className=\"btn btn-outline-dark me-2 mb-1\"\r\n          onClick={() => filterProduct(\"jewelery\")}\r\n        >\r\n          Jewelery\r\n        </button>\r\n        <button\r\n          className=\"btn btn-outline-dark me-2 mb-1\"\r\n          onClick={() => filterProduct(\"electronics\")}\r\n        >\r\n          Electronics\r\n        </button>\r\n      </div>\r\n      {filter.map((product, i) => {\r\n        return (\r\n          <div className=\"main col-12 col-md-3 col-l-4\" key={i}>\r\n            <div className=\"item card h-100 text-center p-4\" key={product.id}>\r\n              <img\r\n                className=\"card-img-top\"\r\n                height=\"250px\"\r\n                src={product.image}\r\n                alt={product.title}\r\n              />\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title mb-0\">\r\n                  {product.title.substring(0, 12)}\r\n                </h5>\r\n                <p className=\"card-text lead fw-bold \">${product.price}</p>\r\n                <NavLink\r\n                  to={`/products/${product.id}`}\r\n                  className=\"btn btn-outline-dark \"\r\n                >\r\n                  Buy now\r\n                </NavLink>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"container mt-5 py-5\">\r\n        <div className=\"row \">\r\n          <div className=\"col-12 mb-5\">\r\n            <h2 className=\"display-6 fw-bolder text-center\">Latest Product</h2>\r\n            <hr />\r\n          </div>\r\n        </div>\r\n        <div className=\"row justify-content-center\">\r\n          {loading ? <Loading /> : <ShowProducts />}\r\n        </div>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default Products;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}